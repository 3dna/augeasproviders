<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>augeasproviders by hercules-team</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>augeasproviders</h1>
        <p>Alternative Augeas-based providers for Puppet</p>

        <p class="view"><a href="https://github.com/hercules-team/augeasproviders">View the Project on GitHub <small>hercules-team/augeasproviders</small></a></p>


        <ul>
          <li><a href="https://github.com/hercules-team/augeasproviders/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/hercules-team/augeasproviders/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/hercules-team/augeasproviders">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>augeasproviders: alternative Augeas-based providers for Puppet</h1>

<p>This module provides alternative providers for core Puppet types such as
<code>host</code> and <code>mailalias</code> using the Augeas configuration library.  It also adds
some of its own types for new functionality.</p>

<p>The advantage of using Augeas over the default Puppet <code>parsedfile</code>
implementations is that Augeas will go to great lengths to preserve file
formatting and comments, while also failing safely when needed.</p>

<p>These providers will hide <em>all</em> of the Augeas commands etc., you don't need to
know anything about Augeas to make use of it.</p>

<p>If you want to make changes to config files in your own way, you should use
the <code>augeas</code> type directly.  For more information about Augeas, see the
<a href="http://augeas.net">web site</a> or the
<a href="http://projects.puppetlabs.com/projects/puppet/wiki/Puppet_Augeas">Puppet/Augeas</a>
wiki page.</p>

<h2>Using augeasproviders</h2>

<p>For builtin types, change the provider on individual resources to <code>augeas</code>:</p>

<pre>
host { "example.com":
  ensure   =&gt; present,
  ip       =&gt; "10.1.2.3",
  provider =&gt; "augeas",
}
</pre>

<p>Or change the <a href="http://docs.puppetlabs.com/puppet/2.7/reference/lang_defaults.html">resource
defaults</a>
globally or in a single scope for the types needed from the list below:</p>

<pre>
Host {
  provider =&gt; "augeas",
}
</pre>

<p>New types provided by augeasproviders can be used out of the box.  See the list
below and <code>puppet doc -r type</code> output.</p>

<h2>Types and providers</h2>

<p>The following builtin types have an Augeas-based provider implemented:</p>

<ul>
<li><code>host</code></li>
<li><code>mailalias</code></li>
</ul><p>The following other types have a provider implemented:</p>

<ul>
<li>
<code>mounttab</code> from <a href="http://forge.puppetlabs.com/puppetlabs/mount_providers">puppetlabs-mount_providers</a>
</li>
</ul><p>The module adds the following new types:</p>

<ul>
<li>
<code>kernel_parameter</code> for adding kernel parameters to GRUB Legacy or GRUB 2 configs</li>
<li>
<code>nrpe_command</code> for setting command entries in Nagios NRPE's <code>nrpe.cfg</code>
</li>
<li>
<code>sshd_config</code> for setting configuration entries in OpenSSH's <code>sshd_config</code>
</li>
<li>
<code>sshd_config_subsystem</code> for setting subsystem entries in OpenSSH's <code>sshd_config</code>
</li>
<li>
<code>sysctl</code> for entries inside Linux's sysctl.conf</li>
<li>
<code>syslog</code> for entries inside syslog.conf</li>
</ul><h2>Requirements</h2>

<p>Ensure both Augeas and ruby-augeas 0.3.0+ bindings are installed and working as
normal.</p>

<p>See <a href="http://projects.puppetlabs.com/projects/puppet/wiki/Puppet_Augeas#Pre-requisites">Puppet/Augeas pre-requisites</a>.</p>

<h2>Installing</h2>

<p>On Puppet 2.7.14+, the module can be installed easily (<a href="http://docs.puppetlabs.com/puppet/2.7/reference/modules_installing.html">documentation</a>):</p>

<pre><code>puppet module install domcleal/augeasproviders
</code></pre>

<p>You may see an error similar to this on Puppet 2.x (<a href="http://projects.puppetlabs.com/issues/13858">#13858</a>):</p>

<pre><code>Error 400 on SERVER: Puppet::Parser::AST::Resource failed with error ArgumentError: Invalid resource type `kernel_parameter` at ...
</code></pre>

<p>Ensure the module is present in your puppetmaster's own environment (it doesn't
have to use it) and that the master has pluginsync enabled.  Run the agent on
the puppetmaster to cause the custom types to be synced to its local libdir
(<code>puppet master --configprint libdir</code>) and then restart the puppetmaster so it
loads them.</p>

<h2>Planned</h2>

<p>The following builtin types have Augeas-based providers planned:</p>

<ul>
<li><code>ssh_authorized_key</code></li>
<li>
<code>port</code>, once <a href="http://projects.puppetlabs.com/issues/5660">#5660</a> is done</li>
<li>
<code>yumrepo</code>, once <a href="http://projects.puppetlabs.com/issues/8758">#8758</a> is done</li>
</ul><p>Other ideas for new types are:</p>

<ul>
<li>
<code>/etc/system</code> types</li>
</ul><h2>Issues</h2>

<p>Please file any issues or suggestions <a href="https://github.com/hercules-team/augeasproviders/issues">on GitHub</a>.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/hercules-team">hercules-team</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>